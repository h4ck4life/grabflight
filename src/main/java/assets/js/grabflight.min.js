var departurePrice=[],returnPrice=[],departTripDateTimeline=[],returnTripDateTimeline=[];departurePrice.push("Depart");returnPrice.push("Return");departTripDateTimeline.push("x");returnTripDateTimeline.push("x");
$.ajax({type:"GET",url:getDestinationsByGetUrl,dataType:"json",success:function(c){for(var e=0;e<c.schedules.length;e++){var d=c.schedules[e];if(0===e)for(var b=0;b<d.departure.length;b++)departurePrice.push(d.departure[b].price.replace(/[^0-9\.]/g,"")),departTripDateTimeline.push(d.departure[b].date);if(1===e)for(b=0;b<d.return.length;b++)returnPrice.push(d.return[b].price.replace(/[^0-9\.]/g,"")),returnTripDateTimeline.push(d.return[b].date)}$("#preload-view").hide();$(".panel-chart").fadeIn("5000");
c3.generate({bindto:"#chart-depart",color:{pattern:["#1CA33B"]},legend:{show:!1},grid:{x:{lines:[{value:gDateFrom}]}},transition:{duration:1E3},data:{x:"x",columns:[departTripDateTimeline,departurePrice],type:"spline"},tooltip:{format:{value:function(a){return"RM "+a.toFixed(2)},title:function(a){return moment(a,"YYYY-MM-DD").format("DD MMM YYYY")}}},axis:{y:{label:{text:"Ticket Price",position:"outer-center"},tick:{format:function(a){return"RM "+a}}},x:{label:{text:c.locationFrom+" - "+c.LocationTo,
position:"inner-right"},type:"timeseries",tick:{culling:!1,fit:!0,rotate:55,format:function(a){return moment(a,"YYYY-MM-DD").format("DD MMM YYYY")}}}}});c3.generate({bindto:"#chart-return",legend:{show:!1},grid:{x:{lines:[{value:gDateTo}]}},transition:{duration:1E3},data:{x:"x",columns:[returnTripDateTimeline,returnPrice],type:"spline"},tooltip:{format:{value:function(a){return"RM "+a.toFixed(2)},title:function(a){return moment(a,"YYYY-MM-DD").format("DD MMM YYYY")}}},axis:{y:{label:{text:"Ticket Price",
position:"outer-center"},tick:{format:function(a){return"RM "+a}}},x:{label:{text:c.LocationTo+" - "+c.locationFrom,position:"inner-right"},type:"timeseries",tick:{culling:!1,fit:!0,rotate:55,format:function(a){return moment(a,"YYYY-MM-DD").format("DD MMM YYYY")}}}}})},error:function(c,e,d){$("#preload-view").hide();$("#preload-error").show()}});